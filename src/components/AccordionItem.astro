---
type Props = {
  idx: number;
  title: string;
};

const { idx, title } = Astro.props;
---

<details-utils>
  <div
    x-data={'{ activeAccordion: false }'}
    class="flex flex-col text-left bg-transparent mt-m"
  >
    <details class="flow">
      <summary
        @click="activeAccordion = !activeAccordion"
        :aria-expanded="activeAccordion"
        aria-controls={`accordion-item-${idx}`}
        class={'accordion-button text-step-000'}
        style="--justify-button: flex-start"
      >
        <svg
          x-show="!activeAccordion"
          focusable="false"
          aria-hidden="true"
          viewBox="0 0 24 24"
          ><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" fill="currentColor"
          ></path><path d="M0 0h24v24H0z" fill="none"></path></svg
        ><svg
          x-show="activeAccordion"
          focusable="false"
          aria-hidden="true"
          viewBox="0 0 24 24"
          ><path d="M19 13H5v-2h14v2z" fill="currentColor"></path><path
            d="M0 0h24v24H0z"
            fill="none"></path></svg
        >{title}
      </summary>
      <section>
        <slot />
      </section>
    </details>
  </div>
</details-utils>

<script src="@zachleat/details-utils/details-utils.js"></script>
